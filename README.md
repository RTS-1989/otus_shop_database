# otus_shop_database

Схема базы данных:

![no schema file :(](./db_course_hw1/shop_db_schema.jpg?raw=true)

Докумментация:

База данных содержит таблицы для интернет-магазина

Описание таблиц для бд интернет-магазина:
- category - содержит категории продуктов
- producer - содержит информацию о производителе товара
- provider - содержит информацию о продавце товара
- contacts - содержит информцию о контактах покупателя
- customer - содержит информацию о покупателе
- products - содержит данные о продуктах (описание, идентификатор производителя, категорию товара)
- price    - содержит информацию о цене на товар (цена на товар от одного производителя у разных продавцов может различаться)
- purchase - содержит информацию о покупке (содержит информцию)
- stock_goods - содержит информацию о запасах товара

Примеры бизнес-задач, которые решает база данных:

- Добавление информации о покупке товара у соответствующего поставщика/продавца
- Создание базы данных поставщиков
- Создание базы данных производителей
- Создание базы данных клиентов и контактов клиентов
- Хранение данных о ценах продуктов у различных поставщиков
- Создание номенклатуры товаров
- Хранение и использование информации о складских запасах товаров
- Аналитика данных по продажам товаров от определенных продавцов (средний чек, кто больше продал и т.д.)
- Аналитика по продажам товаров определенных производитилей
- Аналитика продаж в зависимости от размеров складских остатков

Рекомендации к репликации

Точно не знаю как, но предполагаю что:

1. Стоит использовать потоковую синхронную репликацию для гарантированной записи данных минимум на одну реплику.
2. Если интернет-магазин достаточно крупный и предполагается, что аудитория представлена на большой территории, то следует распределять данные по нескольким регионам для ускорения работы локально в определенном регионе.

Рекомендации по резервному копированию

Точно не знаю, но предполагаю что:

1. Можно использовать я bash-скрипт, который будет запускаться в crontab ночью и запускать с помощью встроенной утилиты pg_dump создание резервной копии определенной базы данных.
2. В скрипте можно описать удаление дампов базы данных, дата создания которых более чем определенное время, скажем 2 месяца.
3. В случае, если необходимо создавать резервную копию всего инстанса, можно использовать pg_dumpall, но в данном случае имеется только 1 база данных.
